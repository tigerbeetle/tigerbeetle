name: Windows

on:
  workflow_call:

jobs:
  docs:
    strategy:
      matrix:
        language: [java, go, node]
    runs-on: windows-latest
    steps:
      - uses: actions/checkout@v3
  
      - if: matrix.language == 'java'
        uses: actions/setup-java@v3
        with:
          java-version: '11'
          distribution: 'temurin'
          server-id: github
          settings-path: ${{ github.workspace }}
  
      # Runs checks against generated client docs
      - run: .\scripts\install_zig.bat
      - run: .\scripts\build.bat client_docs -- --language ${{ matrix.language }}
